

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Get Legal Help Form to Next Step &mdash; ILAO Drupal 8 3.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Intake Availability Functions" href="migration_oas_intake_available.html" />
    <link rel="prev" title="OTIS Scheduled Tasks" href="migration_oas_cron.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ILAO Drupal 8
          

          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="migration.html">Migration Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="migration_users.html">Users and user profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration_org_data.html">Migrating Organization Data</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="migration_otis_entities.html">OTIS-related migration</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="migration_oas_intake_settings.html">OAS Intake Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration_oas_triage_user.html">OAS Triage User</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration_oas_referral_history.html">OAS Referral History</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration_oas_legal_server.html">OAS Legal Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration_oas_financial_category.html">ILAO OAS Financial Category</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration_oas_income_standard.html">ILAO OAS Income Standard</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="migration_otis_functionality_overview.html">OTIS Functionality Documentation</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="migration_oas_functionality.html">OTIS Global Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_permissions.html">OTIS Permissions</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_cron.html">OTIS Scheduled Tasks</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Get Legal Help Form to Next Step</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_intake_available.html">Intake Availability Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_intake_ui.html">OTIS Intake UI and Pre-Transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_callbacks_and_confirms.html">Exit screens and Callbacks</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_etransfer.html">OTIS eTransfer Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_notifications.html">OTIS Automated Notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_triage_rules.html">Triage Rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_referrals.html">OTIS Referrals</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_popup.html">OTIS Modal</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_widget.html">OTIS Widget</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration_oas_surveys.html">OTIS Surveys</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="migration_oas_reporting.html">OTIS Reporting Functionality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="migration_legal_content_types.html">Legal content migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration_events.html">Event nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration_jobs.html">Job content types</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration_internships.html">Internships content type</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration_other_node_types.html">Other node types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="otis_drupal8.html">OTIS Drupal 8</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ILAO Drupal 8</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="migration.html">Migration Documentation</a> &raquo;</li>
        
          <li><a href="migration_otis_entities.html">OTIS-related migration</a> &raquo;</li>
        
          <li><a href="migration_otis_functionality_overview.html">OTIS Functionality Documentation</a> &raquo;</li>
        
      <li>Get Legal Help Form to Next Step</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/migration_oas_glh.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="get-legal-help-form-to-next-step">
<h1>Get Legal Help Form to Next Step<a class="headerlink" href="#get-legal-help-form-to-next-step" title="Permalink to this headline">¶</a></h1>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="oas-triage-user-route-to-initial-results">
<h3>oas_triage_user_route_to_initial_results<a class="headerlink" href="#oas-triage-user-route-to-initial-results" title="Permalink to this headline">¶</a></h3>
<p>This is the initial function called when the user submits the Get Legal Help form.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The code in this function needs refactored.</p>
</div>
<p>Located in: oas_triage_user.</p>
<div class="section" id="parameters">
<h4>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>form</li>
<li>form_state (results of the user’s Get legal help form)</li>
<li>triage_user entity</li>
</ul>
</div>
<div class="section" id="invokes">
<h4>Invokes<a class="headerlink" href="#invokes" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>oas_triage_user_get_legal_issues</li>
<li>oas_triage_user_get_top_parents</li>
<li>oas_triage_user_get_legal_issue</li>
</ul>
</div>
<div class="section" id="process">
<h4>Process<a class="headerlink" href="#process" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Unsets any existing triage id (acts as a reset)</li>
<li>Determines based on the user’s search term:<ul>
<li>We have an exact term match<ul>
<li>Updates the user’s problem in the system</li>
<li>Redirects the user to the right resources using the oas_triage_user_determine_resources function.</li>
</ul>
</li>
<li>We have more than one matching term<ul>
<li>Sets the triage status to Legal issue</li>
<li>Directs the user to the triage-questions page</li>
</ul>
</li>
<li>We have no matching terms<ul>
<li>Sets the triage status to top of triage tree</li>
<li>Sets the start terms to the top level terms</li>
<li>Redirects the user to triage-start</li>
</ul>
</li>
</ul>
</li>
<li>Redirects the user to the legal-information/not-illinois page if they are out of the service area (see the oas_triage_user_in_service_area function)</li>
</ul>
</div>
</div>
<div class="section" id="oas-triage-user-get-legal-issues">
<h3>oas_triage_user_get_legal_issues<a class="headerlink" href="#oas-triage-user-get-legal-issues" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="oas-triage-user-get-top-parents">
<h3>oas_triage_user_get_top_parents<a class="headerlink" href="#oas-triage-user-get-top-parents" title="Permalink to this headline">¶</a></h3>
<p>Returns an array of legal isssues in the legal issues taxonomy that do not have a parent term.</p>
<p>Array is structured as the term id =&gt; translated name</p>
</div>
<div class="section" id="oas-triage-user-get-legal-issue">
<h3>oas_triage_user_get_legal_issue<a class="headerlink" href="#oas-triage-user-get-legal-issue" title="Permalink to this headline">¶</a></h3>
<p>Determines the user’s legal issue from a search term.</p>
<p>Located in: oas_triage_user.evaluate_triage.inc</p>
<div class="section" id="id1">
<h4>Parameters<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Parameter:  String of a search term
Returns either:</p>
<ul class="simple">
<li>0 if no legal issue can be determined</li>
<li>the term id for the matching term if exactly 1 is found</li>
<li>the array of matching terms if more than 1 match is found</li>
</ul>
</div>
<div class="section" id="relies-on">
<h4>Relies on<a class="headerlink" href="#relies-on" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>taxonomy</li>
<li>i18n</li>
<li>legal_issues_autosuggest view</li>
</ul>
</div>
<div class="section" id="id2">
<h4>Process<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Checks first to see if the search term is an exact match for a legal issue taxonomy term.</p>
</li>
<li><p class="first">Checks to see if there is a localized match to the search term</p>
</li>
<li><p class="first">If no result, uses the legal_issue_autosuggest to look for an exact match</p>
<ul>
<li><p class="first">If the search term is a single keyword, rewrites it to include plural formats</p>
</li>
<li><p class="first">If the search term is not single keyword, uses the combined phrase</p>
</li>
<li><p class="first">Then it loops through the results and:</p>
<blockquote>
<div><ul class="simple">
<li>if it is the lowest level term, adds the term object into an array</li>
<li>if that array is then empty (meaning none of the results were low-level terms)<ul>
<li>adds any term that has a child and a parent (this avoids adding the top level terms</li>
<li>loops through the resulting array to remove child terms if the parent term is included</li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">if there is just one result, the term id is returned</p>
</li>
<li><p class="first">if there is more than one result, the array is returned.  The array includes the term id as the key and the term name as the value.</p>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="oas-triage-user-in-service-area">
<h3>oas_triage_user_in_service_area<a class="headerlink" href="#oas-triage-user-in-service-area" title="Permalink to this headline">¶</a></h3>
<p>Located in: oas_triage_user.evaluate_triage.inc</p>
<p>Determines if the user is in our service area</p>
<div class="section" id="id3">
<h4>Parameters<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>Accepts:  triage_user entity
Returns: Boolean</p>
</div>
<div class="section" id="id4">
<h4>Process<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Users in Illinois are always in the service area</li>
<li>Users outside of Illinois are out of the service area unless:<ul>
<li>User is looking for help in immigration (see oas_triage_user_is_immigration)</li>
<li>User is looking for a lawyer</li>
<li>User is in NIJC’s extended service area (see oas_triage_user_check_nijc)</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="oas-triage-user-is-immigration">
<h3>oas_triage_user_is_immigration<a class="headerlink" href="#oas-triage-user-is-immigration" title="Permalink to this headline">¶</a></h3>
<p>Located in: oas_triage_user.evaluate_triage.inc</p>
<p>Determines if the user’s issue is immigration-related.</p>
<div class="section" id="id5">
<h4>Parameters<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>Parameters: integer representing the term id of the user’s problem
Returns: Boolean</p>
</div>
</div>
<div class="section" id="oas-triage-user-check-nijc">
<h3>oas_triage_user_check_nijc<a class="headerlink" href="#oas-triage-user-check-nijc" title="Permalink to this headline">¶</a></h3>
<p>Located in: oas_triage_user.evaluate_triage.inc</p>
<p>Determines if a user is in NIJC’s extended service area as NIJC allows intakes through our platfor outside of Illinois.</p>
<div class="section" id="id6">
<h4>Parameters<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>Parameters: integer representing the term ID of the user’s state
Returns:  Boolean</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">NIJC’s organization node ID is hard coded into this function.</p>
</div>
</div>
</div>
<div class="section" id="oas-triage-user-determine-resources">
<h3>oas_triage_user_determine_resources<a class="headerlink" href="#oas-triage-user-determine-resources" title="Permalink to this headline">¶</a></h3>
<p>Located in: oas_triage_user.evaluate_triage.inc</p>
<p>Updated the form_state to set an appropriate redirect to the next page.</p>
<div class="section" id="id7">
<h4>Parameters<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>Accepts:</p>
<ul class="simple">
<li>triage user entity</li>
<li>form_state array</li>
</ul>
<p>Returns: form_state</p>
</div>
<div class="section" id="id8">
<h4>Process<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>If no help type exists, sets the help type to lawyer.</li>
<li>If the help types include a lawyer:<ul>
<li>Determines if intake is available (see oas_triage_user_is_intake_available)</li>
<li>If intake is possible:<ul>
<li>Checks to see if there are program triage rules</li>
<li>If there are program triage rules:<ul>
<li>Sets the triage status to Program triage</li>
<li>Sets the redirect to the triage rules node</li>
</ul>
</li>
<li>If there are no triage rules:<ul>
<li>Sets the triage status to Referrals</li>
<li>Redirects to referrals page</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>If intake is not possible:<ul>
<li>Sets the triage status to Referrals</li>
<li>Redirects to referrals page</li>
</ul>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>If the user is not looking for a lawyer:<ul>
<li>Sets the triage status to referrals</li>
<li>Redirects to the referrals page</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">There is a reference to referrals when the user overincome value is 10; this is never invoked.</p>
</div>
</div>
</div>
<div class="section" id="oas-triage-user-get-search-terms">
<h3>oas_triage_user_get_search_terms<a class="headerlink" href="#oas-triage-user-get-search-terms" title="Permalink to this headline">¶</a></h3>
<p>Located in: oas_triage_user.evaluate_triage.inc
Parameters: An array of terms
Returns: An array of term reference options for use in a form, formatted as tid =&gt; name</p>
</div>
</div>
<div class="section" id="forms">
<h2>Forms<a class="headerlink" href="#forms" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-legal-help-main-form">
<h3>Get Legal Help main form<a class="headerlink" href="#get-legal-help-main-form" title="Permalink to this headline">¶</a></h3>
<p>Function: oas_triage_user_edit_form
Found in: oas_triage_user.ui.inc</p>
<p>On menu access, creates a triage user entity.  The default form:</p>
<ul class="simple">
<li>Loads the user if the user is logged in</li>
<li>Loads the user’s zip code if it is defined in their account or in a session variable</li>
<li>Adds a heading markup element to describe Get Legal Help</li>
<li>Adds a zip code text field</li>
<li>Adds a household size field</li>
<li>Adds an overincome field (yes or no that asks the user if their income is more than a maximum amount</li>
<li>Adds an ajax callback that takes the household size and calculates the maximum income amount.</li>
<li>Attaches any additional fields created in the user interface.  In ILAO’s instance that includes<ul>
<li>What type of help do you want? Check all that apply. (oas_triage_help_type)</li>
<li>What is your problem about? (field_triage_search, text field)</li>
<li>I would like to get confirmation, reminders, and additional information via text message (field_opt_in_sms); this field is currently set to no access</li>
<li>My problem is about: (field_triage_problem; term reference); set to no access</li>
<li>Do any of the following describe you? Check all that apply. (field_limited_populations; term reference)</li>
<li>Mobile phone (field_mobile_phone; text); set to no access</li>
<li>Problem history (field_triage_problem_history, term reference); set to no access</li>
<li>Callback times selected (field_triage_callback_times; text)</li>
</ul>
</li>
</ul>
<div class="section" id="calculating-maximum-income">
<h4>Calculating Maximum Income<a class="headerlink" href="#calculating-maximum-income" title="Permalink to this headline">¶</a></h4>
<p>The oas_triage_user_get_maximum_income function in the oas_triage_user.ui.inc file controls the maximum intake value that appears on the main Get Legal Help form.</p>
<p>It defaults to $10,000 unless ILAO’s custom ilao_oas_income_standard module is installed (this is installed on ILAO’s website).  With that module installed, the function:</p>
<ul class="simple">
<li>Loads the federal poverty level income standard</li>
<li>Grabs the amount that matches the user’s household size; this amount is annual income</li>
<li>Calculates the monthly maximum by multiplying the annual income by 350%, dividing by 12 and adding $500.</li>
<li>Calculates the amount to display by taking the maximum amount and dividing it by 1000, dropping any fractions and then adding $1000.</li>
<li>Applies a number format to the amount</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the annual income is $12500 per year, the system will take that amount multiply it by 3.5 and divide by 12 ($3645.83) and then adding $500 ($4145.83).  It will then divide that by 1000 (4.14583) and drop any fraction (4) and then multipling by 1000 for an amount of $4000</p>
</div>
</div>
<div class="section" id="known-alters">
<h4>Known Alters<a class="headerlink" href="#known-alters" title="Permalink to this headline">¶</a></h4>
<p>The Get legal help form can be altered by any other module.  Our ILAO-specific intake settings module does this.</p>
<p>Function: ilao_intake_settings_form_oas_triage_user_edit_form_alter
Location: ilao_intake_settings.module</p>
<p>Alterations:</p>
<ul class="simple">
<li>Sets the callback times text field to no access</li>
<li>Adds a fieldset for legal</li>
<li>Adds a checkbox field for a disclaimer</li>
<li>Adds a checkbox field for terms and conditions</li>
<li>Adds translation support for help type options</li>
</ul>
</div>
<div class="section" id="validation">
<h4>Validation<a class="headerlink" href="#validation" title="Permalink to this headline">¶</a></h4>
<p>Function: oas_triage_user_edit_form_validate
Located in: oas_triage_user.ui.inc</p>
<p>Validates that if the help type includes lawyer that the household size and income fields are both required.</p>
</div>
<div class="section" id="form-submit">
<h4>Form submit<a class="headerlink" href="#form-submit" title="Permalink to this headline">¶</a></h4>
<p>Function: oas_triage_user_edit_form_submit
Located in: oas_triage_user.ui.inc</p>
<p>Process:</p>
<ul class="simple">
<li>Stores the household size in a session variable</li>
<li>Updates the tirage user entity to:<ul>
<li>Sets the created time to the current time for a new entity</li>
<li>Set the changed time to the current time</li>
<li>Store the user ID</li>
<li>Store the IP address</li>
<li>Set the last screen viewed to “get-legal-help”</li>
</ul>
</li>
<li>If the ilao_geolocation module is enabled (it currently is), the submit form also updates the triage entity to:<ul>
<li>Set the county to the county associated with the submitted zip code</li>
<li>Set the state to the state associated with the submitted zip code</li>
</ul>
</li>
<li>Invokes the oas_triage_user_route_to_initial_results function to launch the next step</li>
</ul>
</div>
</div>
<div class="section" id="triage-form">
<h3>Triage form<a class="headerlink" href="#triage-form" title="Permalink to this headline">¶</a></h3>
<p>Function: oas_triage_user_ilao_triage_form
Found in: oas_triage_user.evaluate_triage.inc</p>
<p>If necessary, will set the session variable triage_id based on url path and then loads the triage entity.</p>
<p>Form consists of up to 4 radio elements that represent the maximum depth of the legal issues taxonomy.  For example, when the taxonomy tree structure looks like this:</p>
<ul class="simple">
<li>Level 1<ul>
<li>Level 2<ul>
<li>Level 3</li>
<li>Level 3<ul>
<li>Level 4</li>
<li>Level 4</li>
<li>Level 4</li>
</ul>
</li>
<li>Level 2</li>
<li>Level 3</li>
<li>Level 3<ul>
<li>Level 4</li>
<li>Level 4</li>
<li>Level 4</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Level 1</li>
<li>Level 1</li>
</ul>
<p>If the user’s search matches on Level 1, all the Level 2s will appear and then upon selecting a Level 2, all the Level 3s will display under that Level 2 and then upon selecting a Level 3, all the Level 4s will display.</p>
<p>If the user starts at a lower level term or there are no child terms, the submit form displays.</p>
<div class="section" id="id9">
<h4>Form Submit<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p>Function: oas_triage_user_ilao_triage_form_submit
Located in: oas_triage_user.evaluate_triage.inc</p>
<p>Upon submitting the form:</p>
<ul class="simple">
<li>The user’s legal problem history is updated in the field_triage_problem_history record.  This field maintains the entire hierarchy of their selections.</li>
<li>Updates the triage user entity</li>
<li>Invokes the oas_triage_user_determine_resources function to determine how to route the user</li>
</ul>
</div>
<div class="section" id="oas-triage-user-legal-issue-build-tree">
<h4>oas_triage_user_legal_issue_build_tree<a class="headerlink" href="#oas-triage-user-legal-issue-build-tree" title="Permalink to this headline">¶</a></h4>
<p>Found in: oas_triage_user.evaluate_triage.inc
Parameter: integer; taxonomy term id from legal issues
Returns an array of select options that are at the level immediately below the hierarchy level as the term parameter</p>
</div>
</div>
<div class="section" id="triage-start-form">
<h3>Triage start form<a class="headerlink" href="#triage-start-form" title="Permalink to this headline">¶</a></h3>
<p>Function: oas_triage_user_ilao_triage_start_form
Found in: oas_triage_user.evaluate_triage.inc</p>
<p>If necessary, will set the session variable triage_id based on url path and then loads the triage entity.</p>
<p>This is a dynamic form that is used on the get-legal-help/triage-start page.
It consists of a single checkbox field that displays either:</p>
<ul class="simple">
<li>The top categories from our legal issues taxonomy (from oas_triage_user_get_top_parents)</li>
<li>The list of terms from based on the user’s search (using oas_triage_user_get_search_terms)</li>
</ul>
<div class="section" id="id10">
<h4>Form submit<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<p>Function: oas_triage_user_ilao_triage_start_submit
Located in: oas_triage_user.evaluate_triage.inc
If the user has selected a lowest level legal issue:</p>
<ul class="simple">
<li>update the user’s problem in their triage entity</li>
<li>use the oas_triage_user_determine_resources function to proceed.</li>
</ul>
<p>If the user has not selected a lowest level legal issue:</p>
<ul class="simple">
<li>update the user’s problem in their triage entity</li>
<li>Redirects to the /triage-questions form</li>
</ul>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="migration_oas_intake_available.html" class="btn btn-neutral float-right" title="Intake Availability Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="migration_oas_cron.html" class="btn btn-neutral" title="OTIS Scheduled Tasks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ILAO.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>